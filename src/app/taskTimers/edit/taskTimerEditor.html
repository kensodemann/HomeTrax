<div class="modal-header">
  <button type="button" ng-click="$dismiss()" aria-hidden="true" class="close">&times;</button>
  <h4 class="modal-title" ng-bind="controller.title"></h4>
</div>
<div class="modal-body">
  <form name="editor" class="form-horizontal">
    <div class="form-group">
      <label for="project" class="col-md-3 control-label">Project</label>

      <div class="col-md-9">
        <select id="project" name="project" class="form-control" ng-options="project as (project.name + ' [' + project.jiraTaskId +']') for project in controller.projects | orderBy: 'name'" ng_model="controller.project" required>
          <option value="">--Select Project--</option>
        </select>

        <div ng-messages="editor.project.$error" role="alert">
          <div ng-messages-include="app/common/templates/errorMessages.html"></div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="stage" class="col-md-3 control-label">Stage</label>

      <div class="col-md-9">
        <select id="stage" name="stage" class="form-control" ng-options="stage as stage.name for stage in controller.stages | orderBy: 'name'" ng_model="controller.stage" required>
          <option value="">--Select Stage--</option>
        </select>

        <div ng-messages="editor.stage.$error" role="alert">
          <div ng-messages-include="app/common/templates/errorMessages.html"></div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="timeSpent" class="col-md-3 control-label">Time Spent</label>

      <div class="col-md-9">
        <input id="timeSpent" name="timeSpent" class="form-control" type="text" placeholder="Valid Formats: 0:00 or 0.0" ng-model="controller.timeSpent" />

        <div ng-messages="editor.timeSpent.$error" role="alert">
          <div ng-messages-include="app/common/templates/errorMessages.html"></div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="col-md-offset-4 col-md-8 text-danger" ng-bind="controller.errorMessage"></div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" ng-click="$dismiss()" class="btn btn-default">Close</button>
  <ht-wait-button wait-click="controller.save()" wait-busy="controller.isSaving" class="btn btn-primary" ng-disabled="editor.$invalid || controller.isSaving">Save
  </ht-wait-button>
</div>
